<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incident Tracker</title>
    <link rel="stylesheet" type="text/css" href="/public/css/style.css">
</head>

<body>
    <header>
        <h1>Hello <%=name%> </h1>
        <button id="logout-button" onclick="window.location.href='/auth/logout'">Logout</button>
    </header>
    <main>
        <section id="bugs">
            <h2>Incident</h2>
            <ul id="bug-list"></ul>
        </section>
        <section id="add-bug">
            <h2>Add incident</h2>
            <form id="bug-form" method="post" action="/submit">
                <div><label for="bug-title">Title:</label><input type="text" id="itle" name="title"></div>
                <div><label for="name">Name:</label><input type="text" id="name" name="name"></div>
                <div><label for="department">Department:</label><input type="text" id="department" name="department"></div>
                <div><label for="severity">Severity:</label><select id="severity" name="severity"><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option></select></div>
                <div><label for="bug-description">Description:</label><textarea id="description" name="description" rows="4"></textarea></div>
                <div><button type="submit">Submit</button></div>
            </form>
        </section>
    </main>

</body>

</html>





    <!-- <script>
        document.addEventListener('DOMContentLoaded', function() {
            const bugForm = document.getElementById('bug-form');
            if (!bugForm) {
                console.error('Bug form element is missing.');
                return;
            }

            bugForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent the form from submitting

                const title = document.getElementById('bug-title').value;
                const name = document.getElementById('name').value;
                const department = document.getElementById('department').value;
                const severity = document.getElementById('severity').value;
                const description = document.getElementById('bug-description').value;

                if (!title || !name || !department || !severity || !description) {
                    console.error('One or more form elements are missing.');
                    return;
                }

                const bugData = {
                    title,
                    name,
                    department,
                    severity,
                    description
                };

                fetch('/submit', {
                        method: 'POST',
                        body: JSON.stringify(bugData),
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    })
                    .then(response => response.json())
                    .then(data => console.log(data))
                    .catch(error => console.error('Error:', error));
            });
        });
    </script>
</body>

</html> -->